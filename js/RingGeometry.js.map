{"version":3,"file":"RingGeometry.js","sources":["../../node_modules/three/src/geometries/RingGeometry.js"],"sourcesContent":["import { Geometry } from '../core/Geometry.js';\nimport { BufferGeometry } from '../core/BufferGeometry.js';\nimport { Float32BufferAttribute } from '../core/BufferAttribute.js';\nimport { Vector2 } from '../math/Vector2.js';\nimport { Vector3 } from '../math/Vector3.js';\n\n// RingGeometry\n\nfunction RingGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'RingGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nRingGeometry.prototype = Object.create( Geometry.prototype );\nRingGeometry.prototype.constructor = RingGeometry;\n\n// RingBufferGeometry\n\nfunction RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'RingBufferGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tinnerRadius = innerRadius || 0.5;\n\touterRadius = outerRadius || 1;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\tthetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\n\tphiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 1;\n\n\t// buffers\n\n\tconst indices = [];\n\tconst vertices = [];\n\tconst normals = [];\n\tconst uvs = [];\n\n\t// some helper variables\n\n\tlet radius = innerRadius;\n\tconst radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\tconst vertex = new Vector3();\n\tconst uv = new Vector2();\n\n\t// generate vertices, normals and uvs\n\n\tfor ( let j = 0; j <= phiSegments; j ++ ) {\n\n\t\tfor ( let i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\tconst segment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// increase the radius for next row of vertices\n\n\t\tradius += radiusStep;\n\n\t}\n\n\t// indices\n\n\tfor ( let j = 0; j < phiSegments; j ++ ) {\n\n\t\tconst thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\tfor ( let i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\tconst segment = i + thetaSegmentLevel;\n\n\t\t\tconst a = segment;\n\t\t\tconst b = segment + thetaSegments + 1;\n\t\t\tconst c = segment + thetaSegments + 2;\n\t\t\tconst d = segment + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nRingBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nRingBufferGeometry.prototype.constructor = RingBufferGeometry;\n\n\nexport { RingGeometry, RingBufferGeometry };\n"],"names":["RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","thetaStart","thetaLength","Geometry","call","this","type","parameters","fromBufferGeometry","RingBufferGeometry","mergeVertices","BufferGeometry","undefined","Math","PI","max","indices","vertices","normals","uvs","radius","radiusStep","vertex","Vector3","uv","Vector2","j","i","segment","x","cos","y","sin","push","z","thetaSegmentLevel","a","b","c","d","setIndex","setAttribute","Float32BufferAttribute","prototype","Object","create","constructor"],"mappings":"mNAQA,SAASA,EAAcC,EAAaC,EAAaC,EAAeC,EAAaC,EAAYC,GAExFC,EAASC,KAAMC,MAEfA,KAAKC,KAAO,eAEZD,KAAKE,WAAa,CACjBV,YAAaA,EACbC,YAAaA,EACbC,cAAeA,EACfC,YAAaA,EACbC,WAAYA,EACZC,YAAaA,GAGdG,KAAKG,mBAAoB,IAAIC,EAAoBZ,EAAaC,EAAaC,EAAeC,EAAaC,EAAYC,IACnHG,KAAKK,gBASN,SAASD,EAAoBZ,EAAaC,EAAaC,EAAeC,EAAaC,EAAYC,GAE9FS,EAAeP,KAAMC,MAErBA,KAAKC,KAAO,qBAEZD,KAAKE,WAAa,CACjBV,YAAaA,EACbC,YAAaA,EACbC,cAAeA,EACfC,YAAaA,EACbC,WAAYA,EACZC,YAAaA,GAGdL,EAAcA,GAAe,GAC7BC,EAAcA,GAAe,EAE7BG,OAA4BW,IAAfX,EAA2BA,EAAa,EACrDC,OAA8BU,IAAhBV,EAA4BA,EAAwB,EAAVW,KAAKC,GAE7Df,OAAkCa,IAAlBb,EAA8Bc,KAAKE,IAAK,EAAGhB,GAAkB,EAK7E,MAAMiB,EAAU,GACVC,EAAW,GACXC,EAAU,GACVC,EAAM,GAIZ,IAAIC,EAASvB,EACb,MAAMwB,GAAiBvB,EAAcD,IAZrCG,OAA8BY,IAAhBZ,EAA4Ba,KAAKE,IAAK,EAAGf,GAAgB,GAajEsB,EAAS,IAAIC,EACbC,EAAK,IAAIC,EAIf,IAAM,IAAIC,EAAI,EAAGA,GAAK1B,EAAa0B,IAAO,CAEzC,IAAM,IAAIC,EAAI,EAAGA,GAAK5B,EAAe4B,IAAO,CAI3C,MAAMC,EAAU3B,EAAa0B,EAAI5B,EAAgBG,EAIjDoB,EAAOO,EAAIT,EAASP,KAAKiB,IAAKF,GAC9BN,EAAOS,EAAIX,EAASP,KAAKmB,IAAKJ,GAE9BX,EAASgB,KAAMX,EAAOO,EAAGP,EAAOS,EAAGT,EAAOY,GAI1ChB,EAAQe,KAAM,EAAG,EAAG,GAIpBT,EAAGK,GAAMP,EAAOO,EAAI/B,EAAc,GAAM,EACxC0B,EAAGO,GAAMT,EAAOS,EAAIjC,EAAc,GAAM,EAExCqB,EAAIc,KAAMT,EAAGK,EAAGL,EAAGO,GAMpBX,GAAUC,EAMX,IAAM,IAAIK,EAAI,EAAGA,EAAI1B,EAAa0B,IAAO,CAExC,MAAMS,EAAoBT,GAAM3B,EAAgB,GAEhD,IAAM,IAAI4B,EAAI,EAAGA,EAAI5B,EAAe4B,IAAO,CAE1C,MAAMC,EAAUD,EAAIQ,EAEdC,EAAIR,EACJS,EAAIT,EAAU7B,EAAgB,EAC9BuC,EAAIV,EAAU7B,EAAgB,EAC9BwC,EAAIX,EAAU,EAIpBZ,EAAQiB,KAAMG,EAAGC,EAAGE,GACpBvB,EAAQiB,KAAMI,EAAGC,EAAGC,IAQtBlC,KAAKmC,SAAUxB,GACfX,KAAKoC,aAAc,WAAY,IAAIC,EAAwBzB,EAAU,IACrEZ,KAAKoC,aAAc,SAAU,IAAIC,EAAwBxB,EAAS,IAClEb,KAAKoC,aAAc,KAAM,IAAIC,EAAwBvB,EAAK,IA5G3DvB,EAAa+C,UAAYC,OAAOC,OAAQ1C,EAASwC,WACjD/C,EAAa+C,UAAUG,YAAclD,EA+GrCa,EAAmBkC,UAAYC,OAAOC,OAAQlC,EAAegC,WAC7DlC,EAAmBkC,UAAUG,YAAcrC"}